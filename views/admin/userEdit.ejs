<% include ../partials/header %>
<main id="body" class="container">
    <div id="userEdit">
        <h2>Edit
            <%= user.username %>
        </h2>
        <form action='/admin/users/<%= user.id %>?_method=PUT' method='POST'>
            <label for="firstName">First Name</label>
            <input type="text" name="firstName" value="<%= user.firstName %>">
            <br />

            <label for="lastName">Last Name</label>
            <input type="text" name="lastName" value="<%= user.lastName %>">
            <br />

            <label for="image">Image</label>
            <input type="text" name="image" value="<%= user.image %>">
            <img src='<%= user.image %>' />
            <br />

            <label for="email">Email</label>
            <input name="email" required="true" value='<%= user.email %>' />
            <br />

            <label for="type">Type</label>
            <select name="type" required="true">
                <% enumm.forEach(e => { %>
                    <option value='<%= e %>' <%=e==user.type ? 'selected' : null %>>
                        <%= e %>
                    </option>
                    <% }) %>
            </select>
            <br />

            <label for="username">Username</label>
            <input name="username" required="true" value='<%= user.username %>' />
            <br />

            <label for="courses">Current Courses</label>
            
            <select id="list1" name="courses[]" size="5" multiple="multiple" style='width: 150px'>
                
                <% user.courses.forEach(c => { %>

                    <option value='<%= c.id %>'>
                        <%= c.name %>
                    </option>
                    <% }) %>
            </select>
            
            <input id="button1" type="button" value="->" />
            <input id="button2" type="button" value="<-" />
           
            <select id="list2" name="allCourses" size="5" multiple="multiple" style='width: 150px'>
                <% allCourses.forEach(a => { %>
                    
                    <option value='<%= a.id %>'>
                            <%= a.name %>
                        </option>
                <% }) %>
            </select>
            <label for="allCourses">All Courses</label>
            <script type="text/javascript">
                function selectAll() 
                { 
                    selectBox = document.getElementById("list1");

                    for (var i = 0; i < selectBox.options.length; i++) 
                    { 
                         selectBox.options[i].selected = true; 
                    } 
                }
            </script>
            <br />

            <input type="submit" value="Submit" onclick="selectAll()">
        </form>
    </div>
</main>
    <% include ../partials/footer %>