<% include ../partials/header %>
    <main id="body" class="container justify-content-center">
        <div class="column userEditMain" id="userEdit">

            <section class="row-1 headingSection">
                <h2 class="text-center">Edit
                    <%= user.username %>
                </h2>
            </section>
            <form action='/admin/users/<%= user.id %>?_method=PUT' method='POST'>
                <section class="row-7 row align-items-center container justify-content-center">
                        <div class="editCourseFields col-lg-9 col-md-9 col-sm-12">
                                    
                                <div class="form-group row">
                                        <label for="type" class="col-md-2 col-form-label">Type</label>
                                        <div class="col-md-10">
                                            <select name="type" required="true" class="custom-select">
                                                    <% enumm.forEach(e => { %>
                                                        <option value='<%= e %>' <%=e==user.type ? 'selected' : null %>>
                                                            <%= e %>
                                                        </option>
                                                    <% }) %>
                                            </select>
                                        </div>
                                    </div>
                                <div class="form-group row">
                                    <label for="username" class="col-md-2 col-form-label">Username</label>
                                    <div class="col-md-10">
                                        <input type="text" class="form-control" id="username" name="username" required="true" value='<%= user.username %>'>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="firstName" class="col-md-2 col-form-label">First Name</label>
                                    <div class="col-md-10">
                                        <input type="text" class="form-control" id="firstName" name="firstName" value="<%= user.firstName %>">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="lastName" class="col-md-2 col-form-label">Last Name</label>
                                    <div class="col-md-10">
                                        <input type="text" class="form-control" id="lastName" name="lastName" value="<%= user.lastName %>">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="email" class="col-md-2 col-form-label">Email</label>
                                    <div class="col-md-10">
                                            <input type="text" class="form-control" id="email" name="email" required="true" value='<%= user.email %>'>
                                    </div>
                                </div>
                                <div class="form-group row">
                                        <label for="image" class="col-md-2 col-form-label">Image</label>
                                        <div class="col-md-10">
                                                <input type="text" class="form-control" id="image" name="image" value="<%= user.image %>">
                                        </div>
                                    </div>
                            </div>

                    <div class="column col-lg-3 col-md-3 col-sm-12 text-center">
                        <img class="userEditPic img-thumbnail" src='<%= user.image %>' />
                     
                    </div>
                </section>
                <br />

                <br />

             

                <section class="row-4 text-center">
                    <div class="row justify-content-center">

                        <div class="column userEditCourseList">
                            <div>
                                <label for="courses">Current Courses</label>
                            </div>
                            <div>
                                <select class="courseInput" id="list1" name="courses[]" size="5" multiple="multiple">

                                    <% user.courses.forEach(c => { %>

                                        <option value='<%= c.id %>'>
                                            *
                                            <%= c.name %>
                                        </option>
                                        <br>
                                        <% }) %>
                                </select>
                            </div>
                        </div>

                        <div class="column align-self-end userEditCourseBtn">
                            <div>
                                <input id="button1" type="button" value="->" />
                            </div>
                            <div>
                                <input id="button2" type="button" value="<-" />
                            </div>

                        </div>

                        <div class="column userEditCourseList">
                            <div>
                                <label for="allCourses">All Courses</label>
                            </div>
                            <div>
                                <select class="courseInput form-control" id="list2" name="allCourses" size="5" multiple="multiple">
                                    <% allCourses.forEach(a => { %>

                                        <option value='<%= a.id %>'>
                                            *
                                            <%= a.name %>
                                        </option>
                                        <br>
                                        <% }) %>
                                </select>
                            </div>
                        </div>

                    </div>
                    <script type="text/javascript">
                        function selectAll() {
                            selectBox = document.getElementById("list1");

                            for (var i = 0; i < selectBox.options.length; i++) {
                                selectBox.options[i].selected = true;
                            }
                        }
                    </script>
                    <br />

                    <input class="btn-dark userEditSubmit" type="submit" value="Submit" onclick="selectAll()">
                </section>
            </form>
        </div>
    </main>
    <% include ../partials/footer %>