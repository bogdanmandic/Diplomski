<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/stylesheets/bootstrap.min.css">
    <link rel="stylesheet" href="/stylesheets/main.css">
    <link rel="stylesheet" href="/stylesheets/form.css">
    <title>Riitech Academy </title>
</head>

<body>
    <div id="main-container">

        <header id="header">
            <nav class="navbar navbar-expand-lg fixed-top navigation" id="nav-main">
                <div class="container">
                    <a class="navbar-brand" href="/">Riitech Academy</a>
                    <button class="navbar-toggler collapsed float-right" type="button" data-toggle="collapse" data-target="#navbarToggler" aria-controls="navbarToggler"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="hamburger-menu"></span>
                        <span class="hamburger-menu"></span>
                        <span class="hamburger-menu"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarToggler">
                        <ul class="navbar-nav ml-auto">
                            <!-- <li class="nav-item">
                                <a class="nav-link" href="/">Home
                                    <span class="sr-only">(current)</span>
                                </a>
                            </li> -->
                            <li class="nav-item">
                                <a class="nav-link" href="/courses">Courses</a>
                            </li>

                            <hr class="nav-divider" />
                            <li class="nav-item">
                                <div class="dropdown text-center">
                                    <a class="dropdown-toggle nav-link btn" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        Language
                                    </a>
                                    <div class="dropdown-menu dropdown-language text-center" aria-labelledby="dropdownMenuButton">
                                        <a class="dropdown-item language language-sr" href="#">Srpski</a>
                                        <a class="dropdown-item language language-en" href="#">English</a>
                                    </div>
                                </div>
                            </li>

                            <hr class="nav-divider" />
                            <% if(!currentUser) { %>
                                <li class="nav-item">
                                    <a class="nav-link nav-button" href="#" data-toggle='modal' data-target='#myModal'>Login</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link nav-button" href="/register">Signup</a>
                                </li>
                                <% } else { %>
                                    <li class="nav-item">
                                        <a class="nav-link" href="/users/<%= currentUser.id %>">
                                            <%= currentUser.username %>
                                        </a>
                                    </li>

                                    <li class="nav-item">
                                        <a class="nav-link nav-button" href="/logout">Logout</a>
                                    </li>
                                    <% } %>
                        </ul>
                    </div>
                </div>
            </nav>

        </header>

        

        <div class="modal fade" id="myModal">
            <div class="modal-dialog">
                <div class="modal-content">

                    <div id="LoginForm" class="module form-module login-register-form">
                        <div class="toggle">
                            <i class="fa fa-times fa-pencil switch"></i>
                        </div>
                        <div class="form">
                            <h2>Login to your account</h2>
                            <form method='POST' action='/login'>
                                <input type="text" placeholder="Username" name='username' />
                                <input type="password" placeholder="Password" name='password' />
                                <button class="btn-login_register">Login</button>
                            </form>
                        </div>
                        <div id="SignupForm" class="form">
                            <h2>Create an account</h2>
                            <form>
                                <input type="text" placeholder="Username" />
                                <input type="password" placeholder="Password" />
                                <input type="email" placeholder="Email Address" />
                                <button class="btn-login_register">Signup</button>
                            </form>
                        </div>
                        <div class="cta hvr-overline-reveal">
                            <a class="btn-forgot-password" href="#">Forgot Your Password?</a>
                            <hr class="line">
                            <a class="btn-new-account" href="#">Don't Have an Account?</a>

                        </div>
                    </div>

                    <script>
                        function Login() {
                            var x = document.getElementById("LoginForm");
                            if (x.style.display === "none") {
                                x.style.display = "block";
                            } else {
                                x.style.display = "none";
                            }
                        }

                        function Signup() {
                            var y = document.getElementById("SignupForm");
                            if (y.style.display === "none") {
                                y.style.display = "block";

                            } else {
                                y.style.display = "none";
                            }
                        }
                    </script>
                </div>
            </div>
        </div>

        <div class='container' id='alerts' style='position: absolute; top: 10px; left: 0; right: 0; z-index: 9999;'>
            <% if(error && error.length>0) { %>
                <div class='alert alert-danger alert-dismissible fade show' role='alert' id='error-alert'>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <%= error %>

                </div>
                <% } %>
                    <% if(success && success.length>0) { %>
                        <div class='alert alert-success alert-dismissible fade show' role='alert' id='success-alert'>
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                            <%= success %>
                        </div>
                        <% } %>
                    
        </div>